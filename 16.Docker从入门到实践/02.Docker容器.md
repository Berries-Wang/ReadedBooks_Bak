# Docker容器
## Docker容器和Docker镜像的关系
  + 镜像  和 容器的关系，就像是面向对象程序设计里面的类 和 实例一样。镜像是静态的定义，容器是进行运行时的实体。容器可以被创建、启动、停止、删除、暂停等。
## 容器的实质
  + 容器的实质是**进程**，但是与直接在宿主机上运行的进程不一样，容器进程运行与属于自己的独立的命名空间。因此容器可以拥有自己的root文件系统，自己的网络配置，自己的进程空间，自己的用户空间。容器内的进程是运行在一个隔离的环境中，使用起来，就好像是独立于宿主的下的系统一样。
## 容器文件结构
  + 和镜像类似，镜像使用的是分层存储，容器也是如此。**每一个容器在运行的时候，是以镜像为基础层，在其上建立一个当前容器的存储层**（可以称这个为容器运行时读写而准备的存储层为容器存储层）
  + 容器存储层的生命周期和容器是一样的，在容器消亡的时候，容器存储层也会随之消亡。因此，任何保存于容器存储层的信息都会随容器的删除而丢失。
    - 因为容器存储层随容器的消亡而消亡，因此，容器不应该像其存储层内写入任何数据，容器存储层要保持无状态化。**所有的文件写入操作，都应该使用数据卷、或者绑定宿主目录，在这些位置的读写都会跳过容器存储层，直接对宿主发生读写，其性能和稳定性更高。**
    - 数据卷的生命周期独立于容器，容器消亡，数据卷不会消亡。因此，使用数据卷之后，容器删除或者重新运行之后，数据却不会丢失。
