## Linux进程管理
### 什么是进程?(多种说法)
1. 进程就是处于执行期的程序
2. 进程是正在执行的程序的实时结果
3. 进程是对一个集合的总称.
   - 进程是处于执行期的程序以及相关资源(打开的文件，挂起的信号，内核内部数据，处理器状态，一个或多个具有内存映射的内存地址空间及一个或多个的执行线程，存放全局变量的数据段等)的总称
### 什么是线程?
+ 执行线程，简称线程，是进程中的活动对象。每个线程都拥一个独立的程序计数器、进程栈和一组进程寄存器。**内核调度的对象是线程，而不是进程**。
   - 内核调度的对象是线程，而不是进程。其实内核调度的还是**进程**(因为Linux中的线程是一种特殊的进程)。这里，是将线程，进程两种概念区分开了。
   - 故，这里需要确定线程与进程之间的映射关系
### 进程描述符&任务结构
#### 任务队列
+ Linux将进程的列表存放在叫做任务队列的双向循环列表中。列表中的每一个项都是类型为struct task_struct 、称为进程描述符的结构。
    - struct task_struct称为进程描述符
    - 进程描述符中包含一个具体进程的所有信息
###  进程描述符
+ struct task_struct相对较大，在32位机器上，大约1.7KB。进程描述符中包含的数据能够完整地描述一个正在执行的程序:打开的文件、进程的地址空间、挂起的信号、进程的状态等
+ 进程描述符结构如下:
    - 如task_struct.md描述
#### 问题
+ 系统调用getpid()返回的是什么?
   - 返回的是tgid.一个线程组所有线程与领头线程具有相同的pid，存入tgid字段，getpid()返回当前进程的tgid值而不是pid的值。
   - 即:pid是线程id(Linux下，线程是一类特殊的进程)
   - 在Linux系统中，一个线程组中的所有线程使用和该线程组的领头线程（该组中的第一个轻量级进程）相同的PID，并被存放在tgid成员中。只有线程组的领头线程的pid成员才会被设置为与tgid相同的值。注意，getpid()系统调用返回的是当前进程的tgid值而不是pid值。